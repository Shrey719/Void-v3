<!DOCTYPE html>
<html lang="en">
<script async="async" data-cfasync="false" src="//thubanoa.com/1?z=8428307"></script>
<script async="async" data-cfasync="false" src="//agamagcargoan.com/1?z=8428326"></script>
<html>
    <div>              
    </div>
    <head>
    <script src="/assets/js/favicon-handler.js"></script>
    <link id="favicon" rel="icon" href="https://ssl.gstatic.com/classroom/favicon.png">
        <title>Classes</title>
        <script src="/assets/js/ads.js"></script>
        <script src="/assets/js/onload.js"></script>
        <script src="/assets/json/games.js"></script>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-VXDP7XC98T"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-VXDP7XC98T');
        </script>
        <link rel="stylesheet" href="/assets/css/styles.css" type="text/css">   
        <link rel="stylesheet" href="/assets/css/index.css" type="text/css">   
        <style>
            .flex-container {
                display: flex;
                position: relative;
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
                padding: 5rem;
            }

            .game {
                border-radius: 30rem;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease-in-out;
            }

            .game:hover {
                transform: scale(1.05);
            }

            .game-image {
                width: 100%;
                height: auto;
                width: 16vw; 
                height: 16vw; 
                border-radius: 2rem;
                object-fit: cover; 
                transition: transform 0.5s ease-in-out, box-shadow 0.3s ease-in-out; 
                box-shadow: 0 0 1rem rgba(0, 0, 0, 0.1); 
                animation: subtle-pulse 4s infinite;
                animation-delay: 1s;
            }

            .game:hover .game-image {
                transform: scale(1.05);
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
                animation: none;
            }

            @keyframes subtle-pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.01); }
                100% { transform: scale(1); }
            }

            .game-info {
                padding: 10px;
                text-align: center;
                background-color: #555555;
                border-radius: 30px;
            }

            .game-title {
                font-size: 20px;
                margin-bottom: 10px;
                color: #fff;
            }

            .play-button {
                background-color: #555555;
                color: #fff;
                padding: 10px 20px;
                border-radius: 20px;
                text-decoration: none;
                transition: background-color 0.3s ease-in-out;
            }

            .play-button:hover {
                background-color: #454545;
            }
        </style>
    </head>
    <body>
        <h1> </h1>
        <h1> </h1>
        <div style="text-align: center;">
            <input class="random-game-button" placeholder="Search for a game!" id="searchGames"></input>
        </div>

        <div id="header"></div>
        <div id="footer"></div>  
        <script>
            loadHTML("/assets/html/header.html", "header")
            loadHTML("/assets/html/footer.html", "footer")
        </script>

        <div class="flex-container" id="gamesList"></div>

        <script type="module">
            import gamesData from "/assets/json/games.js"

            function loadGame(gameUrl, gameName) {
                localStorage.setItem('loadedG', gameUrl);
                localStorage.setItem('gameName', gameName);
                window.location.href = '/game_sandbox.html';
            }

            function createGameElement(game) {
                const gameElement = document.createElement("div");
                gameElement.className = "game";

                const imgElement = document.createElement("img");
                imgElement.src = game.imgSrc;
                imgElement.alt = game.title;
                imgElement.className = "game-image";

                const titleElement = document.createElement("div");
                titleElement.className = "game-info";
                titleElement.innerHTML = `<h2 class="game-title">${game.title}</h2>`;

                const linkElement = document.createElement("a");
                linkElement.href = "javascript:void(0);";
                linkElement.textContent = "Play";
                linkElement.className = "play-button";
                linkElement.onclick = function() {
                    loadGame(game.link, game.title);
                };

                gameElement.appendChild(imgElement);
                gameElement.appendChild(titleElement);
                titleElement.appendChild(linkElement);

                return gameElement;
            }

            document.getElementById("searchGames").addEventListener("keydown", function (e) {
                if (e.code === "Enter") { 
                    e.preventDefault();
                }
                const gamesList = document.getElementById("gamesList");
                gamesList.innerHTML = "";
                const searchValue = this.value.toLowerCase();
                gamesData.forEach(game => {
                    if (game.title.toLowerCase().includes(searchValue)) {
                        gamesList.appendChild(createGameElement(game));
                    }
                });
            });

            document.addEventListener("DOMContentLoaded", function () {
                const gamesList = document.getElementById("gamesList");
                gamesData.forEach(game => {
                    gamesList.appendChild(createGameElement(game));
                });
            });
        </script>
    </body>
</html>
