<html>
    <head>
        <link href="/assets/css/styles.css" rel="stylesheet">
        <script src="/config.js"></script>
        <script src="/uv/uv.config.js"></script>
        <script src="/global.js"></script>
        <script src="/assets/js/ads.js"></script>
        <script src="/assets/js/favicon-handler.js"></script>
        <link id="favicon" rel="icon" href="img/appimg/BLANK_ICON.png">
    <style>
        .dropdown {
            position: relative;
            display: inline-block;
            background-color: #313131;
            padding: 1vh;
        }  
        .dropdown-content button {
            background-color: #313131;
            color: white;
            border: none;
            font-size: medium;
        }
        .button {
            background-color: #313131;
            border: none;
            color: white;
            font-size: medium;
            padding: 1vh;
        }
        button:hover {
            background-color: #212121;  
        }
        .dropdown-content button:hover {
            background-color: #212121;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #313131;
            color: white;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            padding: 12px 16px;
            z-index: 1;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .icon-selector {
            margin: 10px;
            padding: 10px;
            background-color: #313131;
        }
        
        .icon-option {
            margin: 5px;
            padding: 5px;
            cursor: pointer;
        }
        </style>
        <script>
        function toggleCloaking() {
            if (localStorage.getItem('cloaking') === null) {
                localStorage.setItem("cloaking", 'true')
                return
            }
            if (localStorage.getItem('cloaking') == 'true') {
                localStorage.setItem('cloaking', 'false')
                return
            }
            if (localStorage.getItem('cloaking') == 'false') {
                localStorage.setItem('cloaking', 'true')
                return
            }
        }
        function setSearchType(type) {
            localStorage.setItem('searchBackend', type)
        } 
        function addApp() {
            if (localStorage.getItem('apps') == null) {
                alert("Please load apps properly first")
                return
            }
            const appsData = JSON.parse(localStorage.getItem("apps"))
            const newApp = {
                title: prompt("Title?"),
                imgSrc: prompt("Image?"),
                link: prompt("Link?")
            }
            newApp.link = __uv$config.prefix + __uv$config.encodeUrl(newApp.link)
            appsData.push(newApp)
            localStorage.setItem("apps", JSON.stringify(appsData))
        }

        // Load cloaking checkbox state when page loads
        window.onload = function() {
            if (localStorage.getItem('cloaking') === 'true') {
                document.getElementById("cbox_cloaking").checked = true;
            }
        }
        </script>
    </head>
<body>
    <div id="header"></div>
    <div id="footer"></div>  
    <script>
        loadHTML("/assets/html/header.html", "header")
        loadHTML("/assets/html/footer.html", "footer")
    </script>

    <div>
        <br><br><br>
        <div class="settingswidget">
            <h1>About blank cloaking</h1>
            <label class="switch">
                <input type="checkbox" id="cbox_cloaking" onclick="toggleCloaking()">
                <span class="slider round"></span>
            </label>
        </div>
        <br>
        <div class="settingswidget">
            <h1>Add an app</h1>
            <button class="button" onclick="addApp()">Add an App [DEPRICATED, WILL NOT WORK]</button>
        </div>
        <br>
        <div class="settingswidget">
            <h1>Search type</h1>
            <div class="dropdown">
                <span>Select</span>
                <div class="dropdown-content">
                    <button onclick="setSearchType('UV')">Ultravoilet</button>
                    <br>
                    <button>Coming soon</button>
                </div>
            </div>
        </div>
        <br>
        <div class="settingswidget">
            <h1>Tab Icon Changer</h1>
            <div class="icon-selector">
                <div class="icon-option">
                    <button class="button" onclick="changeFavicon('https://www.google.co.uk/images/branding/googleg/1x/googleg_standard_color_128dp.png')">Google</button>
                </div>
                <div class="icon-option">
                    <button class="button" onclick="changeFavicon('https://www.ixl.com/ixl-favicon.png')">IXL</button>
                </div>
                <div class="icon-option">
                    <button class="button" onclick="changeFavicon('https://static.wixstatic.com/media/5faaf7_dc955e12006e4873a999f1f6a455f82f~mv2.png/v1/fill/w_192%2Ch_192%2Clg_1%2Cusm_0.66_1.00_0.01/5faaf7_dc955e12006e4873a999f1f6a455f82f~mv2.png')">Brain Pop</button>
                </div>
                <div class="icon-option">
                    <button class="button" onclick="changeFavicon('https://ssl.gstatic.com/classroom/favicon.png')">Google Classroom</button>
                </div>
                <div class="icon-option">
                    <button class="button" onclick="changeFavicon('img/appimg/BLANK_ICON.png')">Blank</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
